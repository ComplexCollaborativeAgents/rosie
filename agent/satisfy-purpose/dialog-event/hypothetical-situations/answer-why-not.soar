sp {dialog-event*propose*answer-why-not
   (state <s> ^name dialog-event
              ^purpose <p>)
   (<p> ^type agent-response-why-not
        ^parameters <params>
        ^satisfaction <sat>)   
   (<params> ^game-handle <game-handle>
             ^concept-seen <seen>
             ^type <gtype>
             ^set <set>)
 -->
   (<s> ^operator <o> +) #PR - TODO maybe we ought to put these things onto dialog-event state
   (<o> ^name answer-why-not
        ^game-handle <game-handle>
        ^concept-seen <seen>
        ^type <gtype>
        ^set <set>)
}

sp {answer-why-not*propose*resolve-satisfaction-failure
   (state <s> ^operator.name wait
              ^impasse no-change
              ^superstate <ss>)
   (<ss> ^name answer-why-not)
-->
#(interrupt)
(<ss> ^operator <o> + >)
(<o> ^name resolve-satisfaction-failure)
}

sp {answer-why-not*apply*resolve-satisfaction-failure
   (state <s> ^name resolve-satisfaction-failure
              ^superstate <ss>
              ^superstate.superstate <sss>)
   (<sss> ^name dialog-event
          ^operator <o1>)
   (<ss> ^operator.name resolve-satisfaction-failure)
   (<o1> ^name answer-why-not
         ^game-handle <game-handle>
         ^concept-seen <seen>
         ^type <gtype>
         ^set <unresolved>)
   (<unresolved> -^<gtype>)
-->
   (<s> ^unresolved-conditions <unresolved>
        ^set <out-cond>)
}

sp {answer-why-not*elaborate*resolve-satisfaction-failure
   (state <s> ^name answer-why-not
              ^superstate <ss>
              ^operator <o> +)
   (<ss> ^name dialog-event
          ^operator <o1>)
   (<o> ^name resolve-satisfaction-failure)
   (<o1> ^name answer-why-not
         ^game-handle <game-handle>
         ^concept-seen <seen>
         ^type <gtype>
         ^set <set>)
   (<set> ^<gtype> <concept>)
   
-->
   (<ss> ^gtype <gtype>
         ^<gtype> <concept>)
}