### match-existing-object
#
# (<o> ^name match-existing-object
#      ^source-type << perception belief >>
#      ^source-obj <obj>) # Either input-link-obj or wm-obj
#
# Will elaborate a set of new-object-predicates
#   which are the predicates that describe the new object from the input-link
# (<s> ^new-object-predicates <preds>)
# (<preds> ^<prop1> <pred1> ^<prop2> <pred2> ...)

source elaborations.soar
source preferences.soar

### Step 1: If from perception, find all the belief objects that overlap the new input-link-obj
# Will create the following for each intersecting object:
#(<s> ^overlap-results <results>)
#(<results> ^result <res1> <res2> ...)
#(<res1> ^overlapper-info <obj-info>
#        ^overlap <num>)

source find-overlapping-objects.soar


### Step 2: Perform the matching and copy the result to the superstate

# match an existing object based on overlapping volumes
source matches-overlapping-object.soar

# match an existing object based on predicates
source matches-object-predicates.soar

# if no other match is found, this will return none
source matches-none.soar
