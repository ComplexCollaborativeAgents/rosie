# If there is a new location object from smem for the new waypoint
#   create a world object and add it to the world

# construct the location object
sp {enter-new-waypoint*propose*construct-world-object*location
   (state <s> ^name enter-new-waypoint
              ^retrieved-location { <loc> <> failure }
             -^location-object)
-->
   (<s> ^operator <o> + =)
   (<o> ^name construct-world-object
        ^source-type smem
        ^source-obj <loc>
        ^result-destination <s>
        ^result-name location-object)
}

# add the location to the world
sp {enter-new-waypoint*propose*change-world-state*add-object-to-world*new*location
   (state <s> ^name enter-new-waypoint
              ^location-object <loc>
             -^new-location <loc>)
-->
   (<s> ^operator <o> + =)
   (<o> ^name change-world-state
        ^add-object-to-world <add>)
   (<add> ^object <loc>)
}


