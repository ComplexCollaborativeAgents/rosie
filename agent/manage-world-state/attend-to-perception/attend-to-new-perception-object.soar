# Add a confirmed false flag, and sets a time to check if the object is still stable
sp {anystate*apply*attend-to-perception*new-perception-object*add*status
   (state <s> ^operator <o>
              ^io.input-link.time.seconds <t>
              ^agent-params.stability-check-duration <dur>
              ^top-state.perception-monitor.object-monitor.new-objects <new-objs>)
   (<o> ^name attend-to-perception
        ^type new-perception-object
        ^perception-obj <perc-obj>)
-->
   (<new-objs> ^object-info <obj-info>)
   (<obj-info> ^perception-obj <perc-obj>
               ^check-stability-time (+ <t> <dur>)
               ^number-checks 0)
}

# Creates filters to monitor if the object changes position/size
sp {anystate*apply*attend-to-perception*new-perception-object*create*filters
   (state <s> ^operator <o>
              ^top-state.svs.command <cmd>)
   (<o> ^name attend-to-perception
        ^change <change>)
   (<change> ^type new-perception-object
             ^object-info <obj-info>)
   (<obj-info> ^perception-obj.id <id>)
-->
   (<cmd> ^extract <pos>)
   (<pos> ^type monitor_position
          ^a <pa>)
   (<pa> ^type node
         ^id <id>)
   (<obj-info> ^position-monitor <pos>)
   
   (<cmd> ^extract <vol>)
   (<vol> ^type monitor_volume
          ^a <va>)
   (<va> ^type node
         ^id <id>)
   (<obj-info> ^volume-monitor <vol>)
}
