
# First find intersecting objects, then overlapping ones
sp {match-existing-object*prefer*intersect-command*over*overlap-command
   (state <s> ^name match-existing-object
              ^operator <o1> +
              ^operator <o2> +)
   (<o1> ^name intersect-command)
   (<o2> ^name overlap-command)
-->
   (<s> ^operator <o1> > <o2>)
}

# Wait to match until all svs-commands have finished
sp {match-existing-object*prefer*svs-commands*over*matches-overlapping-object
   (state <s> ^name match-existing-object
              ^operator <o1> +
              ^operator <o2> +)
   (<o1> ^name << intersect-command overlap-command >>)
   (<o2> ^name << matches-overlapping-object matches-object-predicates >>)
-->
   (<s> ^operator <o1> > <o2>)
}

