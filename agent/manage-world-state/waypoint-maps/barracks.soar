sp {topstate*elaborate*map
   (state <s> ^superstate nil)
-->
   (<s> ^maps <maps>)
   (<maps> ^map <building> <world>)

   (<world> ^handle world-map ^waypoint <bwp01>)
   (<bwp01> ^handle bwp01 ^x 0 ^y 0 ^map <world> ^sub-map <building>)

   ### BUILDING ###

   (<building> ^handle bmap1 ^super-waypoint <bwp01>
       ^waypoint <wp01> <wp02> <wp03> <wp04> <wp06> 
       ^waypoint <wp07> <wp08> <wp10> <wp11> <wp12> 
       ^waypoint <wp13> <wp14> <wp15> <wp16> <wp17> 
       ^waypoint <wp18> )

   ### WAYPOINTS ###

  (<wp01> ^handle wp01 ^handle-int 1 ^x 15.0 ^y 17.5 ^map <building>)
   (<wp01> ^edge <e0111>)
    (<e0111> ^start <wp01> ^end <wp11> ^wall-side -1
         ^doorway true ^door_sx 8.999877796077783 ^door_sy 15.599999987555167 ^door_ex 9.000122203922217 ^door_ey 14.400000012444833)

  (<wp02> ^handle wp02 ^handle-int 2 ^x 4.0 ^y 13.0 ^map <building>)
   (<wp02> ^edge <e0211>)
    (<e0211> ^start <wp02> ^end <wp11> ^wall-side -1
         ^doorway false)

  (<wp03> ^handle wp03 ^handle-int 3 ^x 26.0 ^y 13.0 ^map <building>)
   (<wp03> ^edge <e0318>)
    (<e0318> ^start <wp03> ^end <wp18> ^wall-side -1
         ^doorway false)

  (<wp04> ^handle wp04 ^handle-int 4 ^x 15.0 ^y 10.0 ^map <building>)
   (<wp04> ^edge <e0412>)
    (<e0412> ^start <wp04> ^end <wp12> ^wall-side -1
         ^doorway true ^door_sx 14.99976661177507 ^door_sy 12.400000045391721 ^door_ex 15.00023338822493 ^door_ey 13.599999954608279)
   (<wp04> ^edge <e0416>)
    (<e0416> ^start <wp04> ^end <wp16> ^wall-side -1
         ^doorway true ^door_sx 14.999877796077783 ^door_sy 7.599999987555168 ^door_ex 15.000122203922217 ^door_ey 6.400000012444832)

  (<wp06> ^handle wp06 ^handle-int 6 ^x 4.0 ^y 7.0 ^map <building>)

  (<wp07> ^handle wp07 ^handle-int 7 ^x 26.0 ^y 6.0 ^map <building>)
   (<wp07> ^edge <e0715>)
    (<e0715> ^start <wp07> ^end <wp15> ^wall-side -1
         ^doorway false)

  (<wp08> ^handle wp08 ^handle-int 8 ^x 8.0 ^y 2.5 ^map <building>)
   (<wp08> ^edge <e0817>)
    (<e0817> ^start <wp08> ^end <wp17> ^wall-side -1
         ^doorway false)

  (<wp10> ^handle wp10 ^handle-int 10 ^x 9.0 ^y 10.0 ^map <building>)
   (<wp10> ^edge <e1011>)
    (<e1011> ^start <wp10> ^end <wp11> ^wall-side 1
         ^doorway false)
   (<wp10> ^edge <e1017>)
    (<e1017> ^start <wp10> ^end <wp17> ^wall-side -1
         ^doorway false)

  (<wp11> ^handle wp11 ^handle-int 11 ^x 9.0 ^y 14.0 ^map <building>)
   (<wp11> ^edge <e1102>)
    (<e1102> ^start <wp11> ^end <wp02> ^wall-side 1
         ^doorway false)
   (<wp11> ^edge <e1101>)
    (<e1101> ^start <wp11> ^end <wp01> ^wall-side 1
         ^doorway true ^door_sx 9.000122203922217 ^door_sy 14.400000012444833 ^door_ex 8.999877796077783 ^door_ey 15.599999987555167)
   (<wp11> ^edge <e1110>)
    (<e1110> ^start <wp11> ^end <wp10> ^wall-side -1
         ^doorway false)
   (<wp11> ^edge <e1112>)
    (<e1112> ^start <wp11> ^end <wp12> ^wall-side 1
         ^doorway false)

  (<wp12> ^handle wp12 ^handle-int 12 ^x 15.0 ^y 14.0 ^map <building>)
   (<wp12> ^edge <e1204>)
    (<e1204> ^start <wp12> ^end <wp04> ^wall-side 1
         ^doorway true ^door_sx 15.00023338822493 ^door_sy 13.599999954608279 ^door_ex 14.99976661177507 ^door_ey 12.400000045391721)
   (<wp12> ^edge <e1211>)
    (<e1211> ^start <wp12> ^end <wp11> ^wall-side -1
         ^doorway false)
   (<wp12> ^edge <e1213>)
    (<e1213> ^start <wp12> ^end <wp13> ^wall-side 1
         ^doorway false)

  (<wp13> ^handle wp13 ^handle-int 13 ^x 21.0 ^y 14.0 ^map <building>)
   (<wp13> ^edge <e1312>)
    (<e1312> ^start <wp13> ^end <wp12> ^wall-side -1
         ^doorway false)
   (<wp13> ^edge <e1314>)
    (<e1314> ^start <wp13> ^end <wp14> ^wall-side 1
         ^doorway false)

  (<wp14> ^handle wp14 ^handle-int 14 ^x 21.0 ^y 10.0 ^map <building>)
   (<wp14> ^edge <e1413>)
    (<e1413> ^start <wp14> ^end <wp13> ^wall-side -1
         ^doorway false)
   (<wp14> ^edge <e1415>)
    (<e1415> ^start <wp14> ^end <wp15> ^wall-side 1
         ^doorway false)
   (<wp14> ^edge <e1418>)
    (<e1418> ^start <wp14> ^end <wp18> ^wall-side 1
         ^doorway false)

  (<wp15> ^handle wp15 ^handle-int 15 ^x 21.0 ^y 6.0 ^map <building>)
   (<wp15> ^edge <e1507>)
    (<e1507> ^start <wp15> ^end <wp07> ^wall-side 1
         ^doorway false)
   (<wp15> ^edge <e1514>)
    (<e1514> ^start <wp15> ^end <wp14> ^wall-side -1
         ^doorway false)
   (<wp15> ^edge <e1516>)
    (<e1516> ^start <wp15> ^end <wp16> ^wall-side 1
         ^doorway false)

  (<wp16> ^handle wp16 ^handle-int 16 ^x 15.0 ^y 6.0 ^map <building>)
   (<wp16> ^edge <e1604>)
    (<e1604> ^start <wp16> ^end <wp04> ^wall-side 1
         ^doorway true ^door_sx 15.000122203922217 ^door_sy 6.400000012444832 ^door_ex 14.999877796077783 ^door_ey 7.599999987555168)
   (<wp16> ^edge <e1615>)
    (<e1615> ^start <wp16> ^end <wp15> ^wall-side -1
         ^doorway false)
   (<wp16> ^edge <e1617>)
    (<e1617> ^start <wp16> ^end <wp17> ^wall-side 1
         ^doorway false)

  (<wp17> ^handle wp17 ^handle-int 17 ^x 9.0 ^y 6.0 ^map <building>)
   (<wp17> ^edge <e1708>)
    (<e1708> ^start <wp17> ^end <wp08> ^wall-side 1
         ^doorway false)
   (<wp17> ^edge <e1716>)
    (<e1716> ^start <wp17> ^end <wp16> ^wall-side -1
         ^doorway false)
   (<wp17> ^edge <e1710>)
    (<e1710> ^start <wp17> ^end <wp10> ^wall-side 1
         ^doorway false)

  (<wp18> ^handle wp18 ^handle-int 18 ^x 26.0 ^y 10.0 ^map <building>)
   (<wp18> ^edge <e1803>)
    (<e1803> ^start <wp18> ^end <wp03> ^wall-side 1
         ^doorway false)
   (<wp18> ^edge <e1814>)
    (<e1814> ^start <wp18> ^end <wp14> ^wall-side -1
         ^doorway false)

}
