sp {topstate*elaborate*map
   (state <s> ^superstate nil)
-->
   (<s> ^maps <maps>)
   (<maps> ^map <building> <world>)

   (<world> ^handle world-map ^waypoint <bwp01>)
   (<bwp01> ^handle bwp01 ^x 0 ^y 0 ^map <world> ^sub-map <building>)

   ### BUILDING ###

   (<building> ^handle bmap1 ^super-waypoint <bwp01>
       ^waypoint <wp01> <wp02> <wp03> <wp04> <wp05> 
       ^waypoint <wp06> <wp07> )

   ### WAYPOINTS ###

  (<wp01> ^handle wp01 ^x 5.0 ^y 5.0 ^map <building>)
   (<wp01> ^edge <e0105>)
    (<e0105> ^start <wp01> ^end <wp05> 
         ^doorway true ^door_sx 9.4 ^door_sy 5.0 ^door_ex 10.6 ^door_ey 5.0)

  (<wp02> ^handle wp02 ^x 5.0 ^y 25.0 ^map <building>)
   (<wp02> ^edge <e0207>)
    (<e0207> ^start <wp02> ^end <wp07> 
         ^doorway true ^door_sx 9.4 ^door_sy 25.0 ^door_ex 10.6 ^door_ey 25.0)

  (<wp03> ^handle wp03 ^x 17.0 ^y 5.0 ^map <building>)
   (<wp03> ^edge <e0305>)
    (<e0305> ^start <wp03> ^end <wp05> 
         ^doorway true ^door_sx 12.599999239036524 ^door_sy 4.999044408250108 ^door_ex 11.400000760963476 ^door_ey 5.000955591749892)

  (<wp04> ^handle wp04 ^x 17.0 ^y 25.0 ^map <building>)
   (<wp04> ^edge <e0407>)
    (<e0407> ^start <wp04> ^end <wp07> 
         ^doorway true ^door_sx 12.599999239036524 ^door_sy 24.999044408250107 ^door_ex 11.400000760963476 ^door_ey 25.000955591749893)

  (<wp05> ^handle wp05 ^x 11.0 ^y 5.0 ^map <building>)
   (<wp05> ^edge <e0501>)
    (<e0501> ^start <wp05> ^end <wp01> 
         ^doorway true ^door_sx 10.6 ^door_sy 5.0 ^door_ex 9.4 ^door_ey 5.0)
   (<wp05> ^edge <e0503>)
    (<e0503> ^start <wp05> ^end <wp03> 
         ^doorway true ^door_sx 11.400000760963476 ^door_sy 5.000955591749892 ^door_ex 12.599999239036524 ^door_ey 4.999044408250108)
   (<wp05> ^edge <e0506>)
    (<e0506> ^start <wp05> ^end <wp06> 
         ^doorway false)

  (<wp06> ^handle wp06 ^x 11.0 ^y 15.0 ^map <building>)
   (<wp06> ^edge <e0605>)
    (<e0605> ^start <wp06> ^end <wp05> 
         ^doorway false)
   (<wp06> ^edge <e0607>)
    (<e0607> ^start <wp06> ^end <wp07> 
         ^doorway false)

  (<wp07> ^handle wp07 ^x 11.0 ^y 25.0 ^map <building>)
   (<wp07> ^edge <e0702>)
    (<e0702> ^start <wp07> ^end <wp02> 
         ^doorway true ^door_sx 10.6 ^door_sy 25.0 ^door_ex 9.4 ^door_ey 25.0)
   (<wp07> ^edge <e0704>)
    (<e0704> ^start <wp07> ^end <wp04> 
         ^doorway true ^door_sx 11.400000760963476 ^door_sy 25.000955591749893 ^door_ex 12.599999239036524 ^door_ey 24.999044408250107)
   (<wp07> ^edge <e0706>)
    (<e0706> ^start <wp07> ^end <wp06> 
         ^doorway false)

}
