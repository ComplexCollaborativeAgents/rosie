#PR - TODO Need to add incomplete to the state. It comes here after apply interpret
sp {dialog-event*propose*answer-can-you-see-game-concepts
   (state <s> ^name dialog-event
              ^purpose <p>)
   (<p> ^type agent-detect-game-concepts
        ^parameters <params>
        ^satisfaction <sat>)   
   (<params> ^gtype <gtype> 
             ^game-handle <game>)
 -->
   (<s> ^operator <o> +) #PR - add specific preferences where this is greater than goal, failure, action
   (<o> ^name answer-can-you-see-game-concepts
        ^gtype <gtype> 
        ^game-handle <game>)
}

sp {dialog-event*elaborate*answer-can-you-see-game-concepts
   (state <s> ^name dialog-event
              ^purpose <p>
              ^operator <o> +)
   (<p> ^type agent-detect-game-concepts
        ^parameters <params>
        ^satisfaction <sat>)   
   (<params> ^gtype <gtype> 
             ^game-handle <game>) 
   (<o> ^name answer-can-you-see-game-concepts
        ^gtype <gtype> 
        ^game-handle <game>)
-->
  (<s> ^detect-game-concepts <game>
       ^gtype <gtype>
       ^incomplete <inc>)
}

# Apply operator answer-can-you-see-game-concepts
sp {dialog-event*apply*answer-can-you-see-game-concepts*get-no-result-predicates
    (state <s> ^name dialog-event 
               ^operator <o> 
               ^gtype <gtype> 
               ^<gtype> <t> 
               ^incomplete <inc>)
    (<o> ^name ^name answer-can-you-see-game-concepts
         ^gtype <gtype>
         ^game-handle <game>)
    (<t> ^condition <con>)
    (<con> ^result.set <set>)
    (<set> -^instance)
-->
    (<inc> ^condition <con>)
    (<s> ^concept-seen no)
}

sp {dialog-event*elaborate*answer-can-you-see-game-concepts*concept-found
   (state <s> ^name dialog-event 
              ^operator <o1> +
              ^operator <o2> +
              ^gtype <gtype>
              ^<gtype> <t>)
   (<t> ^aname <concept-name>)
   (<o1> ^name <concept-name>)
   (<o2> ^name answer-can-you-see-game-concepts)
-->
   (<s> ^concept-seen yes)
}
     
################################################################
# Report answer using complete-answer-can-you-see-game-concepts
################################################################

sp {dialog-event*propose*complete-answer-can-you-see-game-concepts
   (state <s> ^name dialog-event
              ^concept-seen <seen>
              ^gtype <gtype> 
              ^<gtype> <t>)
-->
   (<s> ^operator <o> + >)
   (<o> ^name complete-answer-can-you-see-game-concepts
        ^concept-seen <seen>)
}

sp {dialog-event*apply*complete-answer-can-you-see-game-concepts*send-message
   (state <s> ^name dialog-event
              ^purpose.type <type>
              ^operator <o>
              ^io.output-link <out>)
   (<o> ^name complete-answer-can-you-see-game-concepts
        ^concept-seen <seen>)
-->
   (<out> ^send-message <msg>)
   (<msg> ^type <type>
          ^fields.concept-seen <seen>)
}
 
sp {dialog-event*apply*complete-answer-can-you-see-game-concepts*mark*performed
   (state <s> ^name dialog-event
              ^operator.name complete-answer-can-you-see-game-concepts
              ^top-state.interaction.status <status>)
-->
   (<status> ^performed.dialog-event <de>)
   (<de> ^type explanation
         ^originator agent)
} 
