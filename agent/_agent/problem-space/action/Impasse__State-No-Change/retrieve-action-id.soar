## Do an smem query to lookup the smem info about the action
sp {action-state-no-change*elaborate*smem-query*action*handle
   (state <s> ^name action-state-no-change
              ^action-operator.action-handle <action-handle>)
-->
   (<s> ^smem-query <query>)
   (<query> ^cue <cue>
            ^link-to-ltm no
            ^depth 10)
   (<cue> ^handle <action-handle>)
}

# Elaborate subaction-id from the result of the smem query
sp {action-state-no-change*elaborate*action-id*from*smem-query
   (state <s> ^name action-state-no-change
              ^action-operator.action-handle <action-handle>
              ^smem-query.result <res>)
   (<res> ^handle <action-handle>)
-->
   (<s> ^action-id <res>)
}
