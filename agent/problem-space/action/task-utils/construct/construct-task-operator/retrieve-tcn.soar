### task-concept-network - the TCN for the task

sp {construct-task-operator*elaborate*task-handle*one*action
   (state <s> ^name construct-task-operator
              ^command-message <msg>)
   (<msg> ^action <a1>)
   (<a1> ^handle <task-handle>)
   -{(<msg> ^action { <a2> <> <a1> })
     (<a2> ^handle <> <task-handle>)}
-->
   (<s> ^task-handle <task-handle>)
}

sp {construct-task-operator*elaborate*task-handle*interrupt*action
   (state <s> ^name construct-task-operator
              ^command-message <msg>)
   (<msg> ^action.handle interrupt1
          ^action.handle { <task-h> <> interrupt1 })
-->
   (<s> ^task-handle interrupt1
        ^construct-task-argument <arg>)
   (<arg> ^arg-type concept
          ^arg-name target-task
          ^source.handle <task-h>)
}

# look up the task in smem
sp {construct-task-operator*elaborate*smem-query*task
   (state <s> ^name construct-task-operator
              ^task-handle <task-handle>)
-->
   (<s> ^smem-query <q>)
   (<q> ^cue.handle <task-handle>
        ^depth 8
        ^destination <s>
        ^result-name task-concept-network)
}

