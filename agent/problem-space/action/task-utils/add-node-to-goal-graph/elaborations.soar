######################### OPERATOR PARAMETERS ########################

# (<o> ^type << start terminal predicate-set subtask composite >>) [REQUIRED]
# The type of the goal node to add
sp {add-node-to-goal-graph*elaborate*node-type*superoperator
   (state <s> ^name add-node-to-goal-graph
              ^superstate.operator.type <type>)
-->
   (<s> ^node-type <type>)
}

# (<o> ^task-handle <task-h>) [REQUIRED]
# The handle of the task to edit
sp {add-node-to-goal-graph*elaborate*task-handle*superoperator
   (state <s> ^name add-node-to-goal-graph
              ^superstate.operator.task-handle <task-h>)
-->
   (<s> ^task-handle <task-h>)
}

# (<o> ^after <goal-h>) [OPTIONAL]
# Will insert the new node after the given goal node
sp {add-node-to-goal-graph*elaborate*insert-after-node*superoperator
   (state <s> ^name add-node-to-goal-graph
              ^superstate.operator.after <goal-h>)
-->
   (<s> ^insert-after-node <goal-h>)
}

# (<o> ^before <goal-h>) [OPTIONAL]
# Will insert the new node before the given goal node
sp {add-node-to-goal-graph*elaborate*insert-before-node*superoperator
   (state <s> ^name add-node-to-goal-graph
              ^superstate.operator.before <goal-h>)
-->
   (<s> ^insert-before-node <goal-h>)
}

# (<o> ^final-goal true) [OPTIONAL]
# If this flag is present, it will add a terminal node after the one being added
sp {add-node-to-goal-graph*elaborate*final-goal*true
   (state <s> ^name add-node-to-goal-graph
              ^superstate.operator.final-goal true)
-->
   (<s> ^final-goal true)
}

# (<o> ^goal-predicates <preds>) [REQUIRED for type=predicate-set]
# A goal predicate-set produced by task-utils/generalize-task-argument
#   This will become the predicates on the goal node
sp {add-node-to-goal-graph*elaborate*goal-predicates
   (state <s> ^name add-node-to-goal-graph
              ^superstate.operator.goal-predicates <preds>)
-->
   (<s> ^goal-predicates <preds>)
}


# (<o> ^goal-conditions <conds>) [OPTIONAL for type=predicate-set]
# A predicate-set which determine conditions placed on the next pointer
#   between the previous node and the new node
sp {add-node-to-goal-graph*elaborate*goal-conditions
   (state <s> ^name add-node-to-goal-graph
              ^superstate.operator.goal-conditions <conds>)
-->
   (<s> ^goal-conditions <conds>)
}

# (<o> ^subtask-handle <sub-h>) [REQUIRED for type=subtask]
# The handle of the subtask that corresponds to this subtask node
sp {add-node-to-goal-graph*elaborate*subtask-handle
   (state <s> ^name add-node-to-goal-graph
              ^superstate.operator.subtask-handle <sub-h>)
-->
   (<s> ^subtask-handle <sub-h>)
}


###### PROBLEM SPACE #######

sp {add-node-to-goal-graph*elabrate*default-problem-space*no
   (state <s> ^name add-node-to-goal-graph)
-->
   (<s> ^default-problem-space no)
}


######### OTHER ##########
sp {add-node-to-goal-graph*elaborate*following-node*from*goal-graph-nodes
   (state <s> ^name add-node-to-goal-graph
              ^insert-before-node <node-h>
              ^goal-graph-nodes.goal <node>)
   (<node> ^handle <node-h>)
-->
   (<s> ^following-node <node>)
}
