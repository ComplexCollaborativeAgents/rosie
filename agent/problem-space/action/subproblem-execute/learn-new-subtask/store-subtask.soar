### store-subtask: Once the subtask is added to the TCN, we store it

sp {learn-new-subtask*elaborate*unstored-ids
   (state <s> ^name learn-new-subtask
              ^to-store <lti>
             -^stored <lti>)
-->
   (<s> ^unstored-ids true)
}

sp {learn-new-subtask*propose*store-subtask
   (state <s> ^name learn-new-subtask
              ^unstored-ids true)
-->
   (<s> ^operator <o> + <)
   (<o> ^name store-subtask)
}

sp {learn-new-subtask*apply*store-subtask*create*store*smem*command
   (state <s> ^name learn-new-subtask
              ^operator.name store-subtask
              ^to-store <id>
              ^smem.command <cmd>)
-->
   (<cmd> ^store <id>)
}

sp {learn-new-subtask*apply*store-subtask*success*mark*stored
   (state <s> ^name learn-new-subtask
              ^operator.name store-subtask
              ^to-store <id>
              ^smem.result.success <id>)
-->
   (<s> ^stored <id>)
}

