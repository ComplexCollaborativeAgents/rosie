# When there is a new action but no corresponding segment, create a new segment on the action stack,
# using copy-task-operator to create the operator to be pushed

# use copy-task-operator (in task-utils) to copy the task-operator
sp {action-space*execute*no*action*segment*propose*copy-task-operator
   (state <s> ^problem-space.action-space execute
             -^name evaluate-operator
              ^task-operator <task-op>
             -^current-task-seg)
-->
   (<s> ^operator <o> +)
   (<o> ^name copy-task-operator
        ^task-operator <task-op>
        ^destination <dest>
        ^copy-name task-operator)
}

# create the new action segment
sp {action-space*execute*apply*copy-task-operator*create*new-task-segment
   (state <s> ^problem-space.action-space execute
              ^operator <o>)
   (<o> ^name copy-task-operator
        ^task-operator.task-handle <h>
        ^destination <dest>)
-->
   (<s> ^new-task-segment <dest>)
   (<dest> ^task-handle <h>
           ^start-of-execution true)
}
