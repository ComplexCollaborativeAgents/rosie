sp {action-space*execute*handle-action-failure*execution*elaborate*terminate-action
   (state <s> ^name handle-action-failure
              ^failure-type execution
              ^current-action.command-failed once)
-->
   (<s> ^terminate-action true)
}

sp {action-space*execute*handle-action-failure*execution*propose*retry-failed-command
   (state <s> ^name handle-action-failure
              ^failure-type execution
              ^failure-info.command <cmd>
              ^current-action <a>)
   (<a> -^command-failed once)
-->
   (<s> ^operator <o> + =)
   (<o> ^name retry-failed-command
        ^command <cmd>)
}

sp {action-space*execute*handle-action-failure*execution*apply*mark*command-failed*once
   (state <s> ^name handle-action-failure
              ^failure-type execution
              ^operator.name retry-failed-command
              ^current-action <a>)
-->
   (<a> ^command-failed once)
}

sp {action-space*execute*handle-action-failure*execution*apply*retry-failed-command*remove*sent-command
   (state <s> ^name handle-action-failure
              ^failure-type execution
              ^operator <o>
              ^current-action <a>)
   (<o> ^name retry-failed-command
        ^command <cmd>)
   (<a> ^sent-command <cmd>)
-->
   (<a> ^sent-command <cmd> -)
}

sp {action-space*execute*handle-action-failure*execution*apply*retry-failed-command*remove*command*from*output-link
   (state <s> ^name handle-action-failure
              ^failure-type execution
              ^operator <o>
              ^superstate.io.output-link <out>)
   (<o> ^name retry-failed-command
        ^command <cmd>)
   (<out> ^<command-name> <cmd>)
-->
   (<out> ^<command-name> <cmd> -)
}