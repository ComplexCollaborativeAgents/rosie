sp {push-procedural-subgoal*propose*add-subgoal-to-goal-id
   (state <s> ^name push-procedural-subgoal
              ^action-id.goal <g>
              ^subaction-handle <sub-h>
             -^added-subgoal true)
   (<g> ^subgoal-count <c>)
-->
   (<s> ^operator <o> +)
   (<o> ^name add-subgoal-to-goal-id
        ^new-subgoal-count (+ <c> 1)
        ^subaction-handle <sub-h>)
}

sp {push-procedural-subgoal*apply*add-subgoal-to-goal-id
   (state <s> ^name push-procedural-subgoal
              ^operator <o>
              ^action-id.goal <g>)
   (<o> ^name add-subgoal-to-goal-id
        ^new-subgoal-count <nc>
        ^subaction-handle <sub-h>)
   (<g> ^subgoal-count <old-c>)
-->
   (<g> ^subgoal-count <old-c> -
        ^subgoal-count <nc>
        ^<nc> <subgoal>)
   (<subgoal> ^item-type task-subgoal
              ^pred-count 1
              ^1 <pred1>)
   (<pred1> ^item-type goal-predicate
            ^type subaction
            ^subaction-handle <sub-h>)

   (<s> ^added-subgoal true)
}

