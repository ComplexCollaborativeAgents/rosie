sp {handle-new-whenever-task*propose*learn-whenever-task
   (state <s> ^name handle-new-whenever-task
              ^task-stack <stack>
             -^learned-whenever-task true)
-->
   (<s> ^operator <o> +)
   (<o> ^name learn-whenever-task)
}

sp {learn-whenever-task*elaborate*problem-space
   (state <s> ^name learn-whenever-task)
-->
   (<s> ^problem-space <ps>)
   (<ps> ^name action
         ^subproblem execute
         ^execution-type external
         ^world <world>
         ^learning <learn>)
   (<world> ^copy-type shallow)
   (<learn> ^type exploration)
}

sp {learn-whenever-task*elaborate*child-task-segment
   (state <s> ^name learn-whenever-task
              ^task-stack.top <seg>)
-->
   (<s> ^child-task-segment <seg>)
}

sp {learn-whenever-task*child*apply*push-task-segment*mark*learned-whenever-task
   (state <s> ^operator <o>
              ^superstate <ss>)
   (<o> ^name push-task-segment
        ^segment.task-operator.task-handle <task-handle>)
   (<ss> ^name learn-whenever-task
         ^superstate <sss>)
   (<sss> ^whenever-segment.task-operator.task-handle <task-handle>)
-->
   (<sss> ^learned-whenever-task true)
}


