# Train Fetch (Pre-loaded in fetch-chunks.soar & extra-smem-adds.soar)
#Fetch a radio from the eastern sentry-post.
#The only goal is that the radio is in the starting location.
#First, remember the current location as the starting location.

### TEACH INSPECT
Inspect the eastern sentry-post. 
Go to the eastern sentry-post. 
Turn on the lightswitch. 
If you are in a sentry-post and an extinguisher is not present then fetch an extinguisher from the supply room. 
If the current location is empty then turn off the lightswitch. 
You are done. 

### TEACH RAISE ALARM
Raise a fire-alarm. 
Remember the current location as the emergency location. 
Go to the eastern hallway. 
Turn on the fire-alarm.
Say "There is a fire." to the CO. 
The CO is in the CO's office. 
!CMD SKIP .
Describe the emergency location.
!CMD SKIP .
You are done. 

Whenever you see a fire then raise a fire-alarm. 

# Turn off the fire alarm and move the fire into the eastern sentry post
!CMD turn-off 23 .
!CMD teleport 51 23.50 17.50 0.40 wp03


### TEACH GUARD
Guard the barracks.
Ask "Who is my relieving officer?".
Officer Mercer. 
Remember the answer as the relieving officer. 
Repeat the following tasks until the relieving officer is present. 


### Inspect messhall
Inspect the messhall. 

# TRIGGER: Turning on the lights
# Put the plate/ketchup on the table and interrupt inspect
!CMD place 30 on1 24 .
!CMD place 31 on1 24 .
Interrupt inspect. 

If you are in the messhall and a plate is on the table then move the plate into the sink. 
The only goal is that the plate is in the sink. 

If you are in the messhall and a condiment is on the table then store the condiment. 
If it is a condiment then the only goal is that the condiment is in the fridge and the fridge is closed. 

Continue inspect.


### Inspect eastern sentry-post
Inspect the eastern sentry-post. 

# MOVE FIRE 
# TURN OFF ALARM


### Inspect motorpool
Inspect the motorpool. 

Interrupt inspect. 

If you are in the motorpool then complete the following tasks. 
Ensure that a sentry is present. 
Ensure that a dispatcher is present. 
If a vehicle is unlocked then lock it. 
You are done. 

Continue inspect. 

Repeat. 

